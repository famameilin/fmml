import{q as R,_ as y,a as r,c as l,b as t,f as _,w as L,u as n,I as S,e as O,o as T,t as e,h as m,k,p as B,d as N,F as w,g as f,s as b}from"./index-335f02a3.js";import{h as I}from"./index-3fc27af5.js";import{N as E}from"./index-1f7897b3.js";import{T as K,a as $}from"./index-881cc47c.js";import{f as u}from"./times-3e2253a9.js";import"./use-id-ad399dd1.js";const D=R("order",{state:()=>({active:0,pend:[],recent:[],all:[]}),actions:{async httpOrder(){const a=await I("http://codercba.com:1888/api/order/list",{type:"pend"}),o=await I("http://codercba.com:1888/api/order/list",{type:"recent"}),c=await I("http://codercba.com:1888/api/order/list",{type:"all"});this.pend=a.data.data.data.orders,this.recent=o.data.data.data.orders,this.all=c.data.data.data.orders}}});const W={class:"app"},U={class:"nav"},Y={__name:"navBar",setup(a){const o=D(),c=()=>history.back();return(d,i)=>{const h=S,s=E,v=K,A=$;return r(),l("div",W,[t("div",U,[_(s,{title:"订单列表","left-text":"返回","left-arrow":"",onClickLeft:c},{right:L(()=>[_(h,{name:"wap-nav",size:"25"})]),_:1}),_(A,{active:n(o).active,"onUpdate:active":i[0]||(i[0]=V=>n(o).active=V),color:"#ff9645"},{default:L(()=>[_(v,{title:"全部订单"}),_(v,{title:"近期订单"}),_(v,{title:"待支付"})]),_:1},8,["active"])])])}}},z=y(Y,[["__scopeId","data-v-74da1158"]]),x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAXCAYAAABqBU3hAAAABGdBTUEAALGPC/xhBQAAAR5JREFUSA29lr9KA0EQh3+zF8iTXS7EKn3AQEDUFxCihY0hT3AJpFHwFSSKhVrYpwvkIVJYWN44WxwkyP65sHPbLNzM7ffNcjMckHjxx32nyZGmSXIolxf5ENvvHy6Lm1BuHU8qgKyzB6gLVHORmNYQ355UgC7WXzB8LhKVSDzESJDP7tQYL/MRKnoCWAo0t3T9NnOdpSJgYbESagKxEqoCMRLqAiGJVgR8Eknb0IJciy7fn49btH9nc0mm1wsYA9eLqs8zGrd2A/8KISmbza69b4CZsChWMiEmIPqVAXVGV6+frQiwA25vRV3AB1cXCMFVBWLgagKxcBWBJvDkAk3h6QXKnvwN8eNhn1uIb6WdhIY2Al+DqW+HjA9cx/4AiL6jLWLLOHgAAAAASUVORK5CYII=";const C=a=>(B("data-v-225bbae1"),a=a(),N(),a),H={class:"app"},q={key:0,class:"pay"},F={class:"down"},G=C(()=>t("button",{class:"landlord"},"联系房东",-1)),J=C(()=>t("button",{class:"go"},"去支付",-1)),P={__name:"pay",props:{countdown:Number},setup(a){const o=a;let c=o.countdown,d;const i=O(0),h=()=>c<=0?(clearInterval(d),0):(d=setInterval(function(){i.value=parseInt(c/60),c--},1e3),i.value);return T(()=>{h()}),(s,v)=>{const A=S;return r(),l("div",H,[o.countdown!=0?(r(),l("div",q,[_(A,{name:"clock-o"}),t("div",F,[t("span",null,e(i.value)+"分",1),m("后订单自动取消 ")]),G,J])):k("",!0)])}}},g=y(P,[["__scopeId","data-v-225bbae1"]]);const p=a=>(B("data-v-cff9e13c"),a=a(),N(),a),M={class:"app"},Q={class:"items"},X={class:"item"},j={class:"top"},Z={class:"title"},tt={class:"reason"},st={class:"center"},et=["src"],ct={class:"bottom"},ot={class:"left"},at={class:"start"},nt={class:"time"},_t={class:"week"},dt=p(()=>t("img",{src:x,alt:""},null,-1)),it={class:"end"},rt={class:"time"},lt={class:"week"},ht={class:"price"},ut=p(()=>t("div",null,"支付总价",-1)),pt={class:"num"},vt={class:"item"},mt={class:"top"},kt={class:"title"},At={class:"reason"},wt={class:"center"},ft=["src"],bt={class:"bottom"},It={class:"left"},gt={class:"start"},yt={class:"time"},Dt={class:"week"},xt=p(()=>t("img",{src:x,alt:""},null,-1)),Lt={class:"end"},St={class:"time"},Bt={class:"week"},Nt={class:"price"},Ct=p(()=>t("div",null,"支付总价",-1)),Vt={class:"num"},Rt={class:"item"},Ot={class:"top"},Tt={class:"title"},Et={class:"reason"},Kt={class:"center"},$t=["src"],Wt={class:"bottom"},Ut={class:"left"},Yt={class:"start"},zt={class:"time"},Ht={class:"week"},qt=p(()=>t("img",{src:x,alt:""},null,-1)),Ft={class:"end"},Gt={class:"time"},Jt={class:"week"},Pt={class:"price"},Mt=p(()=>t("div",null,"支付总价",-1)),Qt={class:"num"},Xt={__name:"item",setup(a){const o=D(),c=i=>new Date(i),d=i=>{const h=i.getDay();let s="";switch(h){case 0:s="星期日";break;case 1:s="星期一";break;case 2:s="星期二";break;case 3:s="星期三";break;case 4:s="星期四";break;case 5:s="星期五";break;case 6:s="星期六";break}return s};return(i,h)=>(r(),l("div",M,[t("div",Q,[n(o).active==0?(r(!0),l(w,{key:0},f(n(o).all,s=>(r(),l("div",X,[t("div",j,[t("div",Z,e(s.unitName),1),t("div",{class:b(s.countdown==0?"err":"status")},[m(e(s.orderStatusDesc)+" ",1),t("span",tt,e(s.cancelReasonDesc),1)],2)]),t("div",st,[t("img",{src:s.unitPicture,alt:"",class:"pic"},null,8,et),t("div",ct,[t("div",ot,[t("div",at,[t("div",nt,e(n(u)(c(s.checkInDate))),1),t("div",_t,e(d(c(s.checkInDate)))+e(s.checkInLatestTime),1)]),dt,t("div",it,[t("div",rt,e(n(u)(c(s.checkOutDate))),1),t("div",lt,e(d(c(s.checkOutDate)))+e(s.checkInLatestTime),1)])]),t("div",ht,[ut,t("div",pt,"￥"+e(s.prepayAmount),1)])])]),_(g,{countdown:s.countdown},null,8,["countdown"])]))),256)):k("",!0),n(o).active==1?(r(!0),l(w,{key:1},f(n(o).recent,s=>(r(),l("div",vt,[t("div",mt,[t("div",kt,e(s.unitName),1),t("div",{class:b(s.countdown==0?"err":"status")},[m(e(s.orderStatusDesc)+" ",1),t("span",At,e(s.cancelReasonDesc),1)],2)]),t("div",wt,[t("img",{src:s.unitPicture,alt:"",class:"pic"},null,8,ft),t("div",bt,[t("div",It,[t("div",gt,[t("div",yt,e(n(u)(c(s.checkInDate))),1),t("div",Dt,e(d(c(s.checkInDate)))+e(s.checkInLatestTime),1)]),xt,t("div",Lt,[t("div",St,e(n(u)(c(s.checkOutDate))),1),t("div",Bt,e(d(c(s.checkOutDate)))+e(s.checkInLatestTime),1)])]),t("div",Nt,[Ct,t("div",Vt,"￥"+e(s.prepayAmount),1)])])]),_(g,{countdown:s.countdown},null,8,["countdown"])]))),256)):k("",!0),n(o).active==2?(r(!0),l(w,{key:2},f(n(o).pend,s=>(r(),l("div",Rt,[t("div",Ot,[t("div",Tt,e(s.unitName),1),t("div",{class:b(s.countdown==0?"err":"status")},[m(e(s.orderStatusDesc)+" ",1),t("span",Et,e(s.cancelReasonDesc),1)],2)]),t("div",Kt,[t("img",{src:s.unitPicture,alt:"",class:"pic"},null,8,$t),t("div",Wt,[t("div",Ut,[t("div",Yt,[t("div",zt,e(n(u)(c(s.checkInDate))),1),t("div",Ht,e(d(c(s.checkInDate)))+e(s.checkInLatestTime),1)]),qt,t("div",Ft,[t("div",Gt,e(n(u)(c(s.checkOutDate))),1),t("div",Jt,e(d(c(s.checkOutDate)))+e(s.checkInLatestTime),1)])]),t("div",Pt,[Mt,t("div",Qt,"￥"+e(s.prepayAmount),1)])])]),_(g,{countdown:s.countdown},null,8,["countdown"])]))),256)):k("",!0)])]))}},jt=y(Xt,[["__scopeId","data-v-cff9e13c"]]),Zt={class:"app"},ns={__name:"index",setup(a){return D().httpOrder(),(c,d)=>(r(),l("div",Zt,[_(z),_(jt)]))}};export{ns as default};
