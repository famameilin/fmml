import{u as V}from"./cityStore-9e5dd2cf.js";import{_ as m,o as L,a,c as i,b as t,t as n,u as l,r as I,p as h,d as v,e as w,f as p,F as y,g as $,w as Z,h as x,i as E,j as K,k as A,l as B,m as k,I as F,n as N}from"./index-8848ccae.js";import{B as G}from"./index-ab6edae9.js";import{u as g,C as S}from"./homeStore-95fa3f20.js";import"./index-6f717f01.js";import{f as b}from"./times-3e2253a9.js";import{R as H,u as C}from"./useScroll-a9a82cd4.js";const Q=""+new URL("banner-3d82bd25.webp",import.meta.url).href,X="data:image/png;base64,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";const T=e=>(h("data-v-cfe87786"),e=e(),v(),e),Y={class:"app"},D={class:"content"},P=T(()=>t("span",{class:"text"},"我的位置",-1)),U=T(()=>t("img",{src:X,alt:""},null,-1)),W=[P,U],j={__name:"city_locate",setup(e){const s=V();L(()=>{c()});const c=()=>{const d={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};navigator.geolocation.getCurrentPosition(o,r,d);function o(u){const f=u.coords,z={key:"cc0c5ec84c809f041f6b5349baf8fe47",location:`${f.longitude.toFixed(5)},${f.latitude.toFixed(5)}`};s.httpCityLocate("https://restapi.amap.com/v3/geocode/regeo",z)}function r(u){s.cityName="定位失败，请重试"}},_=()=>{console.log("city"),I.push("/city")};return(d,o)=>(a(),i("div",Y,[t("div",D,[t("div",{class:"city",onClick:_},n(l(s).cityName),1),t("div",{class:"locate",onClick:c},W)])]))}},O=m(j,[["__scopeId","data-v-cfe87786"]]);const J=e=>(h("data-v-3366a0a3"),e=e(),v(),e),q={class:"app"},tt={class:"select_time"},et={class:"left"},st={class:"bottom"},ot={class:"center"},ct={class:"right"},at={class:"bottom"},nt=J(()=>t("div",{class:"price_nums"},[t("div",{class:"price"},"价格不限"),t("div",{class:"nums"},"人数不限")],-1)),it={__name:"time_search",setup(e){const s=g(),c=w(!1),_=d=>{const[o,r]=d;c.value=!1,s.start=o,s.end=r,s.count=(r.getTime()-o.getTime())/(1e3*60*60*24)+1};return(d,o)=>{const r=S;return a(),i("div",q,[t("div",tt,[t("div",et,[t("div",{class:"top",onClick:o[0]||(o[0]=u=>c.value=!0)}," 入住 "),t("div",st,n(l(b)(l(s).start)),1)]),t("div",ot," 共计"+n(l(s).count)+"天 ",1),t("div",ct,[t("div",{class:"top",onClick:o[1]||(o[1]=u=>c.value=!0)}," 离开 "),t("div",at,n(l(b)(l(s).end)),1)]),p(r,{show:c.value,"onUpdate:show":o[2]||(o[2]=u=>c.value=u),type:"range",onConfirm:_,color:"#ff9645"},null,8,["show"])]),nt])}}},_t=m(it,[["__scopeId","data-v-3366a0a3"]]);const dt=e=>(h("data-v-bebc1a80"),e=e(),v(),e),lt={class:"app"},rt={class:"search"},ut=dt(()=>t("div",{class:"title"}," 关键字/位置/民宿名 ",-1)),pt={class:"keys"},mt={__name:"keys_search",setup(e){const s=g();async function c(){await s.httpHotSuggest("http://codercba.com:1888/api/home/hotSuggests")}return c(),(_,d)=>(a(),i("div",lt,[t("div",rt,[ut,t("div",pt,[(a(!0),i(y,null,$(l(s).hotSuggests,o=>(a(),i("span",null,n(o.tagText.text),1))),256))])])]))}},ht=m(mt,[["__scopeId","data-v-bebc1a80"]]);const vt={class:"button"},ft={__name:"home_search",setup(e){return(s,c)=>{const _=G;return a(),i(y,null,[p(_t),p(ht),t("div",vt,[p(_,{round:"",type:"success",size:"large",color:"linear-gradient(to right, #ff9645, rgb(252,175,63))",to:"search"},{default:Z(()=>[x("开始搜索")]),_:1})])],64)}}},yt=m(ft,[["__scopeId","data-v-1799b287"]]);const gt={class:"app"},xt={class:"nav"},At={class:"item"},kt=["src"],It={class:"title"},$t={__name:"home_navBar",setup(e){const s=g();return E(()=>{s.httpPic("http://codercba.com:1888/api/home/categories")}),(c,_)=>(a(),i("div",gt,[t("div",xt,[(a(!0),i(y,null,$(l(s).pics?l(s).pics:[],d=>(a(),i("div",At,[t("img",{src:d.pictureUrl,alt:""},null,8,kt),t("div",It,n(d.title),1)]))),256))])]))}},bt=m($t,[["__scopeId","data-v-47361850"]]);const wt={class:"app"},St=["src"],Ct={class:"text"},Tt={class:"summary"},Mt={class:"name"},Rt={class:"price_score"},zt={class:"price"},Vt={__name:"home_type_9",props:{item:Object},setup(e){const s=e;let c=parseFloat(s.item.commentScore);const _=()=>{I.push(`/details/${s.item.houseId}`)};return(d,o)=>{const r=H;return a(),i("div",wt,[t("div",{class:"item",onClick:_},[t("img",{src:e.item.image.url,alt:""},null,8,St),t("div",Ct,[t("div",Tt,n(e.item.summaryText),1),t("div",Mt,n(e.item.houseName),1),t("div",Rt,[p(r,{modelValue:l(c),"onUpdate:modelValue":o[0]||(o[0]=u=>K(c)?c.value=u:c=u),readonly:"","allow-half":"",size:"10px"},null,8,["modelValue"]),t("div",zt," ￥"+n(e.item.finalPrice),1)])])])])}}},Lt=m(Vt,[["__scopeId","data-v-9e988fe0"]]);const Zt={class:"app"},Et=["src"],Kt={class:"text"},Bt={class:"address"},Ft={class:"name"},Nt={class:"summary"},Gt={class:"price"},Ht={class:"final"},Qt={class:"product"},Xt={key:0,class:"preferential"},Yt={__name:"home_type_3",props:{item:Object},setup(e){const s=e;parseFloat(s.item.commentScore);const c=()=>{I.push(`/details/${s.item.houseId}`)};return(_,d)=>{var o;return a(),i("div",Zt,[t("div",{class:"item",onClick:c},[t("img",{src:e.item.image.url,alt:""},null,8,Et),t("div",Kt,[t("div",Bt,n(e.item.location),1),t("div",Ft,n(e.item.houseName),1),t("div",Nt,n(e.item.summaryText),1),t("div",Gt,[t("span",Ht," ￥"+n(e.item.finalPrice),1),t("span",Qt," ￥"+n(e.item.productPrice),1),e.item.priceTipBadge?(a(),i("span",Xt,n((o=e.item.priceTipBadge)==null?void 0:o.text),1)):A("",!0)])])])])}}},Dt=m(Yt,[["__scopeId","data-v-1bcad303"]]);const Pt=e=>(h("data-v-03fc3ad6"),e=e(),v(),e),Ut={class:"app"},Wt=Pt(()=>t("h2",{class:"title"}," 热门精选 ",-1)),jt={class:"homelist"},Ot={__name:"home_hot_select",setup(e){const s=g();s.httpHomeList("http://codercba.com:1888/api/home/houselist",{page:s.index});const{isBottom:c}=C();return B(c,_=>{_&&s.httpHomeList("http://codercba.com:1888/api/home/houselist",{page:s.index}).then(()=>{c.value=!1})}),(_,d)=>(a(),i("div",Ut,[Wt,t("div",jt,[(a(!0),i(y,null,$(l(s).homeList,(o,r)=>(a(),i(y,null,[o.discoveryContentType===9?(a(),k(Lt,{key:0,item:o.data},null,8,["item"])):A("",!0),o.discoveryContentType===3?(a(),k(Dt,{key:1,item:o.data},null,8,["item"])):A("",!0)],64))),256))])]))}},Jt=m(Ot,[["__scopeId","data-v-03fc3ad6"]]);const M=e=>(h("data-v-dfbf6034"),e=e(),v(),e),qt={class:"app"},te={class:"main"},ee={class:"search"},se={class:"left"},oe=M(()=>t("span",null,"住",-1)),ce={class:"bottom"},ae=M(()=>t("span",null,"离",-1)),ne={class:"right"},ie={__name:"index",setup(e){const s=g(),c=w(!1),_=d=>{const[o,r]=d;c.value=!1,s.start=o,s.end=r,s.count=(r.getTime()-o.getTime())/(1e3*60*60*24)+1};return(d,o)=>{const r=F,u=S;return a(),i("div",qt,[t("div",te,[t("div",ee,[t("div",se,[t("div",{class:"top",onClick:o[0]||(o[0]=f=>c.value=!0)},[oe,x(n(l(s).start.getMonth()+1)+"."+n(l(s).start.getDate()),1)]),t("div",ce,[ae,x(n(l(s).end.getMonth()+1)+"."+n(l(s).end.getDate()),1)])]),t("div",ne,[x(" 关键字/位置/民宿名 "),p(r,{name:"search",class:"icon",size:"25"})]),p(u,{show:c.value,"onUpdate:show":o[1]||(o[1]=f=>c.value=f),type:"range",onConfirm:_,color:"#ff9645"},null,8,["show"])])])])}}},_e=m(ie,[["__scopeId","data-v-dfbf6034"]]);const R=e=>(h("data-v-940f446e"),e=e(),v(),e),de={class:"app"},le=R(()=>t("div",{class:"title"},"趣旅途",-1)),re=R(()=>t("div",{class:"swiper"},[t("img",{src:Q,alt:""})],-1)),ue={__name:"index",setup(e){const{scrollTop:s}=C(),c=N(()=>s.value>=560);return(_,d)=>(a(),i("div",de,[le,re,p(O),p(yt),p(bt),c.value?(a(),k(_e,{key:0})):A("",!0),p(Jt)]))}},xe=m(ue,[["__scopeId","data-v-940f446e"]]);export{xe as default};
