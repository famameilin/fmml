<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<style>
			div {
				margin: 100px;
			}

			span {
				display: inline-block;
				margin-right: 10px;
				width: 100px;
				height: 100px;
				text-align: center;
				line-height: 100px;
				font-size: 32px;
				font-weight: 700;
				color: #fff;
				background-color: #000;
			}
		</style>
		<title>倒计时跳转</title>
	</head>
	<body>
		<div>
			<span id="h"></span>
			<span id="m"></span>
			<span id="s"></span>
		</div>
		<input type="text">
		<button>发送</button>
	</body>
	<script>
		var h = document.querySelector('#h');
		var m = document.querySelector('#m');
		var s = document.querySelector('#s');
		var btn = document.querySelector('button');
		var ad = new Date().getTime();
		ad += 6000;
		var time1 = setInterval(fn, 1000);
		var time2;
		fn();

		function fn() {
			var da = new Date().getTime();
			var hours = parseInt((ad - da) / 1000 / 60 / 60);
			var min = parseInt((ad - da) / 1000 / 60 % 60);
			var sen = parseInt((ad - da) / 1000 % 60);
			if (hours == 0 && min == 0 && sen == 0) {
				s.innerHTML = '00';
				clearInterval(time1);
				location.href = 'http://www.baidu.com';
			} else {
				h.innerHTML = (hours < 10 ? '0' + hours : hours);
				m.innerHTML = (min < 10 ? '0' + min : min);
				s.innerHTML = (sen < 10 ? '0' + sen : sen);
			}
		}
		btn.addEventListener('click', function() {
			var tmp = 5;
			btn.disabled = true;
			btn.innerHTML = '还剩下' + tmp + '秒';
			tmp--;
			time2 = setInterval(function() {
				if (tmp == 0) {
					btn.disabled = false;
					btn.innerHTML = '发送';
					clearInterval(time2);
				} else {
					btn.innerHTML = '还剩下' + tmp + '秒';
					tmp--;
				}
			}, 1000);

		});
	</script>
</html>
